webpackJsonp([7],{"859l":function(t,e,s){e=t.exports=s("FZ+f")(!0),e.push([t.i,".sec_setting[data-v-5c571630]{padding:20px;min-width:1160px}.sec_setting .info-header[data-v-5c571630]{height:40px}.sec_setting .info-header h2[data-v-5c571630]{font-size:22px;line-height:26px;color:#313131}.sec_setting .info-body[data-v-5c571630]{padding-top:22px}.sec_setting .info-body dl[data-v-5c571630]{font-size:14px;line-height:30px}.sec_setting .info-body span[data-v-5c571630]{color:gray}.sec_setting .info-body b[data-v-5c571630]{color:#333;margin-left:20px}.sec_setting .info-body .lan[data-v-5c571630]{margin-left:20px;cursor:pointer;color:#4285f4}.sec_setting .regist-content[data-v-5c571630]{text-align:left;margin-top:-30px;background-color:#fff}.sec_setting .regist-content dl[data-v-5c571630]{width:100%}.sec_setting .regist-content dd[data-v-5c571630]{margin-top:20px}.sec_setting .regist-content a.lan[data-v-5c571630]{cursor:pointer}.sec_setting .regist-content .tips[data-v-5c571630]{font-size:12px;line-height:18px;text-align:left;overflow:hidden;max-height:100px;text-indent:1px;padding-top:6px}.sec_setting .regist-content .tips.slide-enter-active[data-v-5c571630],.sec_setting .regist-content .tips.slide-leave-active[data-v-5c571630]{-webkit-transition:max-height .5s;transition:max-height .5s}.sec_setting .regist-content .tips.slide-enter[data-v-5c571630],.sec_setting .regist-content .tips.slide-leave-to[data-v-5c571630]{max-height:0}.sec_setting .regist-content .tips.err[data-v-5c571630]{color:#db4437}.sec_setting .regist-content .basetxt[data-v-5c571630]{color:#333;font-size:14px;line-height:30px}.sec_setting .regist-content .basetxt .left[data-v-5c571630]{width:90px;height:30px;float:left}.sec_setting .regist-content .basetxt .right[data-v-5c571630]{height:30px}.sec_setting .regist-content .basetxt input[data-v-5c571630]{width:200px;height:30px}.sec_setting .regist-content .basetxt input.err[data-v-5c571630]{border-color:red}.sec_setting .regist-content input[data-v-5c571630]{width:330px}.el-icon-loading[data-v-5c571630]{color:#000;margin-right:5px}","",{version:3,sources:["D:/admin/config/src/components/account/account.vue"],names:[],mappings:"AACA,8BACE,aAAc,AACd,gBAAkB,CACnB,AACD,2CACE,WAAa,CACd,AACD,8CACE,eAAgB,AAChB,iBAAkB,AAClB,aAAe,CAChB,AACD,yCACE,gBAAkB,CACnB,AACD,4CACE,eAAgB,AAChB,gBAAkB,CACnB,AACD,8CACE,UAAe,CAChB,AACD,2CACE,WAAY,AACZ,gBAAkB,CACnB,AACD,8CACE,iBAAkB,AAClB,eAAgB,AAChB,aAAe,CAChB,AACD,8CACE,gBAAiB,AACjB,iBAAkB,AAClB,qBAAuB,CACxB,AACD,iDACE,UAAY,CACb,AACD,iDACE,eAAiB,CAClB,AACD,oDACE,cAAgB,CACjB,AACD,oDACE,eAAgB,AAChB,iBAAkB,AAClB,gBAAiB,AACjB,gBAAiB,AACjB,iBAAkB,AAClB,gBAAiB,AACjB,eAAiB,CAClB,AACD,8IAEE,kCAAoC,AACpC,yBAA4B,CAC7B,AACD,mIAEE,YAAc,CACf,AACD,wDACE,aAAe,CAChB,AACD,uDACE,WAAY,AACZ,eAAgB,AAChB,gBAAkB,CACnB,AACD,6DACE,WAAY,AACZ,YAAa,AACb,UAAY,CACb,AACD,8DACE,WAAa,CACd,AACD,6DACE,YAAa,AACb,WAAa,CACd,AACD,iEACE,gBAAmB,CACpB,AACD,oDACE,WAAa,CACd,AACD,kCACE,WAAY,AACZ,gBAAkB,CACnB",file:"account.vue",sourcesContent:["\n.sec_setting[data-v-5c571630] {\n  padding: 20px;\n  min-width: 1160px;\n}\n.sec_setting .info-header[data-v-5c571630] {\n  height: 40px;\n}\n.sec_setting .info-header h2[data-v-5c571630] {\n  font-size: 22px;\n  line-height: 26px;\n  color: #313131;\n}\n.sec_setting .info-body[data-v-5c571630] {\n  padding-top: 22px;\n}\n.sec_setting .info-body dl[data-v-5c571630] {\n  font-size: 14px;\n  line-height: 30px;\n}\n.sec_setting .info-body span[data-v-5c571630] {\n  color: #808080;\n}\n.sec_setting .info-body b[data-v-5c571630] {\n  color: #333;\n  margin-left: 20px;\n}\n.sec_setting .info-body .lan[data-v-5c571630] {\n  margin-left: 20px;\n  cursor: pointer;\n  color: #4285f4;\n}\n.sec_setting .regist-content[data-v-5c571630] {\n  text-align: left;\n  margin-top: -30px;\n  background-color: #fff;\n}\n.sec_setting .regist-content dl[data-v-5c571630] {\n  width: 100%;\n}\n.sec_setting .regist-content dd[data-v-5c571630] {\n  margin-top: 20px;\n}\n.sec_setting .regist-content a.lan[data-v-5c571630] {\n  cursor: pointer;\n}\n.sec_setting .regist-content .tips[data-v-5c571630] {\n  font-size: 12px;\n  line-height: 18px;\n  text-align: left;\n  overflow: hidden;\n  max-height: 100px;\n  text-indent: 1px;\n  padding-top: 6px;\n}\n.sec_setting .regist-content .tips.slide-enter-active[data-v-5c571630],\n.sec_setting .regist-content .tips.slide-leave-active[data-v-5c571630] {\n  -webkit-transition: max-height 0.5s;\n  transition: max-height 0.5s;\n}\n.sec_setting .regist-content .tips.slide-enter[data-v-5c571630],\n.sec_setting .regist-content .tips.slide-leave-to[data-v-5c571630] {\n  max-height: 0;\n}\n.sec_setting .regist-content .tips.err[data-v-5c571630] {\n  color: #db4437;\n}\n.sec_setting .regist-content .basetxt[data-v-5c571630] {\n  color: #333;\n  font-size: 14px;\n  line-height: 30px;\n}\n.sec_setting .regist-content .basetxt .left[data-v-5c571630] {\n  width: 90px;\n  height: 30px;\n  float: left;\n}\n.sec_setting .regist-content .basetxt .right[data-v-5c571630] {\n  height: 30px;\n}\n.sec_setting .regist-content .basetxt input[data-v-5c571630] {\n  width: 200px;\n  height: 30px;\n}\n.sec_setting .regist-content .basetxt input.err[data-v-5c571630] {\n  border-color: #f00;\n}\n.sec_setting .regist-content input[data-v-5c571630] {\n  width: 330px;\n}\n.el-icon-loading[data-v-5c571630] {\n  color: #000;\n  margin-right: 5px;\n}"],sourceRoot:""}])},O43h:function(t,e,s){"use strict";function n(t){s("WSSC")}Object.defineProperty(e,"__esModule",{value:!0});var i=s("fdFc"),a=s("nv77"),o={data:function(){return{api:{list:!1},userName:"",email:"",phone:"",userInfoList:[],oldPassword:"",newPassword:"",confirmPassword:"",dialog:{pwd:!1,userInfo:!1},errorEmail:!1,errorPhone:!1,currentName:"",current:{newPassword:!1,oldPassword:!1,confirmPassword:!1,phone:!1,email:!1,slide:!1},slide:!1,isGetting:!1,isGettingText:"确认"}},methods:{_userInfo:function(){var t=this,e={};Object(a.c)(e).then(function(e){0===e.code?(t.api.list=!0,t.userInfoList=e.data):t.$message({message:e.data?e.data.desc:e.message,type:"error"})})},_editUserInfo:function(){var t=this,e=/^1[34578]\d{9}$/;if(/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(this.userInfoList.email))if(e.test(this.userInfoList.phone)){this.dialog.userInfo=!1;var s={userName:this.userInfoList.userName,email:this.userInfoList.email,phone:this.userInfoList.phone};this.requestIn(),Object(a.b)(s).then(function(e){0===e.code?(t._userInfo(),t.userInfoList=e.data,t.$message({message:"编辑个人信息成功",type:"success"})):(t.requestCompleted(),t.$message({message:e.data?e.data.desc:e.message,type:"error"}))})}else this.errorPhone=!0;else this.errorEmail=!0},_editPassword:function(){var t=this;if(this.oldPassword===this.newPassword)return this.$message({message:"新密码不能与旧密码相同！",type:"error"}),!1;if(this._checkNull()&&this._checkPwd()&&this._checkSame()){var e={oldPassword:this.oldPassword,newPassword:this.newPassword,confirmPassword:this.confirmPassword};this.requestIn(),Object(a.a)(e).then(function(e){0===e.code?(t.dialog.pwd=!1,i.a.removeItem(),t.$message({message:"修改成功,3秒后跳转登录，请重新登录！",type:"success"}),setTimeout(function(){t.$router.push("/login")},3e3)):(t.requestCompleted(),t.$message({message:e.data?e.data.desc:e.message,type:"error"}))})}},pwdShow:function(){this.oldPassword="",this.newPassword="",this.confirmPassword="",this.current.newPassword=!1,this.current.confirmPassword=!1,this.current.oldPassword=!1,this.dialog.pwd=!0},resetInfo:function(){this.dialog.userInfo=!0},closeErr:function(t){this.current[t]=!1},showTips:function(t){this.currentName=t},_checkPwd:function(){return!this.newPassword||this.newPassword.length<6||this.newPassword.length>32?(this.current.newPassword=1,!1):!(Object(i.b)(this.newPassword)<2)||(this.current.newPassword=2,!1)},_checkSame:function(){return this.newPassword===this.confirmPassword||(this.current.confirmPassword=!0,!1)},_checkNull:function(){return!!this.oldPassword||(this.current.oldPassword=!0,!1)},requestIn:function(){this.isGetting=!0,this.isGettingText="处理中"},requestCompleted:function(){this.isGetting=!1,this.isGettingText="确认"}},created:function(){this._userInfo()}},r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.api.list,expression:"!api.list"}],staticClass:"sec_setting",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[t._m(0,!1,!1),t._v(" "),s("div",{staticClass:"info-body"},[s("dl",[s("dd",[s("span",[t._v("账　　号")]),s("b",[t._v(t._s(t.userInfoList.account))])]),t._v(" "),s("dd",[s("span",[t._v("用户名称")]),s("b",[t._v(t._s(t.userInfoList.userName))]),s("span",{staticClass:"lan",on:{click:t.resetInfo}},[t._v("修改")])]),t._v(" "),s("dd",[s("span",[t._v("邮　　箱")]),s("b",[t._v(t._s(t.userInfoList.email))]),s("span",{staticClass:"lan",on:{click:t.resetInfo}},[t._v("修改")])]),t._v(" "),s("dd",[s("span",[t._v("手机号码")]),s("b",[t._v(t._s(t.userInfoList.phone))]),s("span",{staticClass:"lan",on:{click:t.resetInfo}},[t._v("修改")])]),t._v(" "),s("dd",[s("span",[t._v("密　　码")]),s("b",[t._v("**********")]),s("span",{staticClass:"lan",on:{click:t.pwdShow}},[t._v("修改")])])])]),t._v(" "),s("el-dialog",{attrs:{title:"修改账号基本信息",visible:t.dialog.userInfo,width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.$set(t.dialog,"userInfo",e)},close:function(e){t.requestCompleted()}}},[s("div",{staticClass:"regist-content"},[s("dl",[s("dd",{staticClass:"basetxt"},[s("div",{staticClass:"left"},[t._v("用户名")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.userInfoList.userName,expression:"userInfoList.userName",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入新用户名"},domProps:{value:t.userInfoList.userName},on:{input:function(e){e.target.composing||t.$set(t.userInfoList,"userName",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),s("dd",{staticClass:"basetxt"},[s("div",{staticClass:"left"},[t._v("邮箱")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.userInfoList.email,expression:"userInfoList.email",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入新邮箱"},domProps:{value:t.userInfoList.email},on:{input:function(e){e.target.composing||t.$set(t.userInfoList,"email",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.errorEmail,expression:"errorEmail"}],staticClass:"tips err"},[t._v("请输入正确格式的邮箱")])]),t._v(" "),s("dd",{staticClass:"basetxt"},[s("div",{staticClass:"left"},[t._v("手机号  +86 ")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.userInfoList.phone,expression:"userInfoList.phone",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入新手机号"},domProps:{value:t.userInfoList.phone},on:{input:function(e){e.target.composing||t.$set(t.userInfoList,"phone",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.errorPhone,expression:"errorPhone"}],staticClass:"tips err"},[t._v("请输入正确的手机号码")])])])]),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("div",{staticClass:"basebtn r"},[s("button",{on:{click:function(e){t.dialog.userInfo=!1}}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"lan",attrs:{disabled:t.isGetting},on:{click:t._editUserInfo}},[t.isGetting?s("i",{staticClass:"el-icon-loading"}):t._e(),t._v(t._s(t.isGettingText)+"\n        ")])])])]),t._v(" "),s("el-dialog",{attrs:{title:"修改密码",visible:t.dialog.pwd,width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.$set(t.dialog,"pwd",e)},close:function(e){t.requestCompleted()}}},[s("div",{staticClass:"regist-content"},[s("dl",[s("dd",{staticClass:"basetxt"},[s("div",{staticClass:"left"},[t._v("当前密码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.oldPassword,expression:"oldPassword",modifiers:{trim:!0}}],class:{err:t.current.oldPassword},attrs:{type:"password",placeholder:"请输入当前密码"},domProps:{value:t.oldPassword},on:{blur:[t._checkNull,function(e){t.$forceUpdate()}],focus:function(e){t.closeErr("oldPassword")},input:function(e){e.target.composing||(t.oldPassword=e.target.value.trim())}}}),t._v(" "),s("transition",{attrs:{name:"slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.current.oldPassword,expression:"current.oldPassword"}],staticClass:"tips err"},[t._v("\n              当前密码不能为空\n            ")])])],1),t._v(" "),s("dd",{staticClass:"basetxt"},[s("div",{staticClass:"left"},[t._v("新密码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newPassword,expression:"newPassword",modifiers:{trim:!0}}],class:{err:t.current.pwd},attrs:{type:"password",placeholder:"请输入新密码"},domProps:{value:t.newPassword},on:{blur:[function(e){t._checkPwd(),t.showTips("")},function(e){t.$forceUpdate()}],focus:function(e){t.closeErr("pwd"),t.showTips("pwd")},input:function(e){e.target.composing||(t.newPassword=e.target.value.trim())}}}),t._v(" "),s("transition",{attrs:{name:"slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:"newPassword"==t.currentName,expression:"currentName == 'newPassword'"}],staticClass:"tips"},[t._v("\n              6-32个字符，数字、大小写字母及特殊字符至少包含两种\n            ")])]),t._v(" "),s("transition",{attrs:{name:"slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.current.newPassword,expression:"current.newPassword == 1"}],staticClass:"tips err"},[t._v("6-32个字符")])]),t._v(" "),s("transition",{attrs:{name:"slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:2==t.current.newPassword,expression:"current.newPassword == 2"}],staticClass:"tips err"},[t._v("数字、大小写字母及特殊字符至少包含两种")])])],1),t._v(" "),s("dd",{staticClass:"basetxt"},[s("div",{staticClass:"left"},[t._v("确认新密码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.confirmPassword,expression:"confirmPassword",modifiers:{trim:!0}}],class:{err:t.current.confirmPassword},attrs:{type:"password",placeholder:"再确认输入新密码"},domProps:{value:t.confirmPassword},on:{focus:function(e){t.closeErr("confirmPassword")},blur:[t._checkSame,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.confirmPassword=e.target.value.trim())}}}),t._v(" "),s("transition",{attrs:{name:"slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.current.confirmPassword,expression:"current.confirmPassword"}],staticClass:"tips err"},[t._v("两次输入密码不一致")])])],1)])]),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("div",{staticClass:"basebtn r"},[s("button",{on:{click:function(e){t.dialog.pwd=!1}}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"lan",attrs:{disabled:t.isGetting},on:{click:t._editPassword}},[t.isGetting?s("i",{staticClass:"el-icon-loading"}):t._e(),t._v(t._s(t.isGettingText)+"\n        ")])])])])],1)},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info-header"},[s("h2",[t._v("账号信息")])])}],d={render:r,staticRenderFns:c},l=d,u=s("VU/8"),p=n,A=u(o,l,!1,p,"data-v-5c571630",null);e.default=A.exports},WSSC:function(t,e,s){var n=s("859l");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s("rjj0")("50a259c5",n,!0)},nv77:function(t,e,s){"use strict";function n(t){var e=d+"v1/user/info";return c.get(e).then(function(t){return r.a.resolve(t.data)})}function i(t){var e=d+"v1/user/editInfo";return c.post(e,t).then(function(t){return r.a.resolve(t.data)})}function a(t){var e=d+"v1/user/modifyPassword";return c.post(e,t).then(function(t){return r.a.resolve(t.data)})}e.c=n,e.b=i,e.a=a;var o=s("//Fk"),r=s.n(o),c=s("mtWM"),d="api/"}});
//# sourceMappingURL=7.ac155a8b067547059e5c.js.map