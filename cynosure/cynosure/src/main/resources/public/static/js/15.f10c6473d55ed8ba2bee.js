webpackJsonp([15],{Aaqy:function(e,t,i){var a=i("tx2N");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("e1b0f226",a,!0)},D9As:function(e,t,i){"use strict";function a(e){i("Aaqy")}Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),n=i.n(s),r=i("hCGe"),l=i("NYxO"),o={data:function(){return{api:{list:!1},current:{name:!1,pushUrl:!1},name:"",pushUrl:"",curProjectName:"",curProjectDesc:"",currentPage:1,totalCount:0,pageSize:10,dialog:{newRegion:!1,editRegion:!1,detail:!1},tableData:[],multipleSelection:[],curEditRow:{},curDetailRow:{},searchText:"",dialogType:"new",isGetting:!1,isGettingText:"确认"}},methods:{closeErr:function(e){this.current[e]=!1},_checkName:function(){return""!==this.name||(this.current.name=!0,!1)},_checkPushUrl:function(){return""!==this.pushUrl||(this.current.pushUrl=!0,!1)},handleCurrentChange:function(e){this.currentPage=e,this.queryRegionList()},queryRegionList:function(e){var t=this,i={};i.currentPage=this.currentPage,i.pagesize=this.pageSize,e&&(i.name=e),this.api.list=!0,Object(r.O)(i).then(function(e){0===e.code?(t.api.list=!1,t.tableData=e.data.list,t.totalCount=e.data.totalCount,t.currentPage=e.data.currentPage):t.$message({message:e.message,type:"error"})})},_handleRegion:function(){var e=this;if(!this._checkName())return!1;if(!this._checkPushUrl())return!1;var t={};t.name=this.name,t.pushUrl=this.pushUrl;var i=void 0,a="";"new"===this.dialogType?(i=r.e,a="新增成功"):(i=r.D,t.id=this.curEditRow.id,a="编辑成功"),this.requestIn(),i(t).then(function(t){0===t.code?(e.dialogRest("newRegion"),e.queryRegionList(),e.$message({message:a,type:"success"})):(e.requestCompleted(),e.$message({message:t.message,type:"error"}))})},handleSelectionChange:function(e){this.multipleSelection=e},boot:function(e){this.dialog[e]=!0},dialogRest:function(e){this.dialog[e]=!1,this.name="",this.pushUrl="",this.current.name=!1,this.current.pushUrl=!1},addRegionDialog:function(){this.boot("newRegion"),this.dialogType="new"},editRegionDialog:function(e){this.boot("newRegion"),this.curEditRow=e,this.name=e.name,this.pushUrl=e.pushUrl,this.dialogType="edit"},editRegion:function(){var e=this,t=this.curEditRow,i={};i.pushUrl=this.curProjectName,i.id=t.id,i.desc=this.curProjectDesc,Object(r.D)(i).then(function(t){0===t.code?(e.dialogRest("editRegion"),e.queryRegionList(),e.$message({message:"编辑成功！",type:"success"})):e.$message({message:t.message,type:"error"})})},detailDialog:function(e){var t=this;this.boot("detail"),Object(r.w)(e.id).then(function(e){0===e.code?t.curDetailRow=e.data:t.$message({message:e.message,type:"error"})})},confirmDelRegion:function(e){var t=this,i={};e&&(i.id=e.id),this.$confirm("此操作将删除选中区域, 是否继续?","提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"warning"}).then(function(){Object(r.p)(i).then(function(e){0===e.code?(t.queryRegionList(),t.$message({message:"删除成功！",type:"success"})):t.$message({message:e.message,type:"error"})})})},requestIn:function(){this.isGetting=!0,this.isGettingText="处理中"},requestCompleted:function(){this.isGetting=!1,this.isGettingText="确认"}},created:function(){this.queryRegionList()},computed:n()({},Object(l.b)(["userInfo"]),{userInfoData:function(){return JSON.parse(this.userInfo)}})},c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.api.list,expression:"api.list"}],staticClass:"server_list",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[i("ul",{staticClass:"nav-list clearfix"},[i("router-link",{attrs:{tag:"li",to:"/main/manage"}},[e._v("快速创建")]),e._v(" "),i("router-link",{attrs:{tag:"li",to:"/main/manage/project"}},[e._v("项目管理")]),e._v(" "),i("router-link",{attrs:{tag:"li",to:"/main/manage/cluster"}},[e._v("集群管理")]),e._v(" "),i("router-link",{attrs:{tag:"li",to:"/main/manage/service"}},[e._v("服务管理")]),e._v(" "),i("router-link",{attrs:{tag:"li",to:"/main/manage/version"}},[e._v("服务版本管理")]),e._v(" "),1===e.userInfoData.roleType?i("router-link",{attrs:{tag:"li",to:"/main/manage/user"}},[e._v("用户管理")]):e._e(),e._v(" "),i("li",{staticClass:"active"},[e._v("区域管理")])],1),e._v(" "),i("div",{staticClass:"deal clearfix"},[1===e.userInfoData.roleType?i("div",{staticClass:"basebtn l"},[i("button",{staticClass:"lan",on:{click:e.addRegionDialog}},[e._v("新增")])]):e._e()]),e._v(" "),i("div",{staticClass:"table"},[i("el-table",{staticClass:"no-border",staticStyle:{width:"100%"},attrs:{data:e.tableData},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{prop:"name",label:"区域"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"lan",on:{click:function(i){e.detailDialog(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"pushUrl",label:"companion"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createTime",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(new Date(t.row.createTime).Format("yyyy-MM-dd hh:mm:ss")))]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"updateTime",label:"更新时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.updateTime?new Date(t.row.updateTime).Format("yyyy-MM-dd hh:mm:ss"):"-"))]}}])}),e._v(" "),1===e.userInfoData.roleType?i("el-table-column",{attrs:{prop:"uid",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"lan",on:{click:function(i){e.editRegionDialog(t.row)}}},[e._v("编辑")]),e._v(" "),i("span",{staticClass:"lan",on:{click:function(i){e.confirmDelRegion(t.row)}}},[e._v("删除")])]}}])}):e._e()],1)],1),e._v(" "),e.totalCount>e.pageSize?i("div",{staticClass:"basePagenate"},[i("el-pagination",{attrs:{"page-size":e.pageSize,"current-page":e.currentPage,total:e.totalCount,layout:"prev, pager, next"},on:{"current-change":e.handleCurrentChange}})],1):e._e(),e._v(" "),i("el-dialog",{attrs:{title:"new"===e.dialogType?"新增区域":"编辑区域",visible:e.dialog.newRegion,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.$set(e.dialog,"newRegion",t)},close:function(t){e.dialogRest("newRegion")}}},[i("div",{staticClass:"dialog"},[i("ul",{staticClass:"createuser"},["new"===e.dialogType?i("li",[i("span",[i("i",[e._v("区域名称")])]),e._v(" "),i("div",{staticClass:"basetxt"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],class:{err:e.current.name},attrs:{type:"text"},domProps:{value:e.name},on:{focus:function(t){e.closeErr("name")},blur:[e._checkName,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||(e.name=t.target.value.trim())}}}),e._v(" "),i("transition",{attrs:{name:"slide"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.current.name,expression:"current.name"}],staticClass:"tips",class:{err:e.current.name}},[e._v("\n                区域名称不能为空\n              ")])])],1)]):e._e(),e._v(" "),i("li",[i("span",[i("i",[e._v("companion")])]),e._v(" "),i("div",{staticClass:"basetxt"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.pushUrl,expression:"pushUrl",modifiers:{trim:!0}}],class:{err:e.current.pushUrl},attrs:{type:"text"},domProps:{value:e.pushUrl},on:{focus:function(t){e.closeErr("pushUrl")},blur:[e._checkPushUrl,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||(e.pushUrl=t.target.value.trim())}}}),e._v(" "),i("transition",{attrs:{name:"slide"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.current.pushUrl,expression:"current.pushUrl"}],staticClass:"tips",class:{err:e.current.pushUrl}},[e._v("\n                推送的URL不能为空\n              ")])])],1)])])]),e._v(" "),i("span",{staticClass:"dialog-footer basebtn",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"clearfix my-footer"},[i("button",{attrs:{type:"button"},on:{click:function(t){e.dialog.newRegion=!1}}},[e._v("取消")]),e._v(" "),i("button",{staticClass:"lan",attrs:{type:"button",disabled:e.isGetting},on:{click:function(t){e._handleRegion()}}},[e.isGetting?i("i",{staticClass:"el-icon-loading"}):e._e(),e._v(e._s(e.isGettingText)+"\n        ")])])])]),e._v(" "),i("el-dialog",{attrs:{title:"区域详情",visible:e.dialog.detail,width:"500px"},on:{"update:visible":function(t){e.$set(e.dialog,"detail",t)},close:function(t){e.dialogRest("detail")}}},[i("div",{staticClass:"dialog"},[i("ul",{staticClass:"createuser"},[i("li",[i("span",[e._v("区域id:")]),e._v(" "),i("div",{staticClass:"basetxt"},[i("span",[e._v(e._s(e.curDetailRow.id))])])]),e._v(" "),i("li",[i("span",[e._v("区域名称:")]),e._v(" "),i("div",{staticClass:"basetxt"},[i("p",[e._v(e._s(e.curDetailRow.name?e.curDetailRow.name:"-"))])])]),e._v(" "),i("li",[i("span",[e._v("companion:")]),e._v(" "),i("div",{staticClass:"basetxt"},[i("p",[e._v(e._s(e.curDetailRow.pushUrl?e.curDetailRow.pushUrl:"-"))])])]),e._v(" "),i("li",[i("span",[e._v("创建时间:")]),e._v(" "),i("div",{staticClass:"basetxt"},[i("span",{staticStyle:{width:"100%"}},[e._v(e._s(new Date(e.curDetailRow.createTime).Format("yyyy-MM-dd hh:mm:ss")))])])]),e._v(" "),i("li",[i("span",[e._v("更新时间:")]),e._v(" "),i("div",{staticClass:"basetxt"},[i("span",{staticStyle:{width:"100%"}},[e._v(" "+e._s(e.curDetailRow.updateTime?new Date(e.curDetailRow.updateTime).Format("yyyy-MM-dd hh:mm:ss"):"-"))])])])])]),e._v(" "),i("span",{staticClass:"dialog-footer basebtn",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"clearfix my-footer"},[i("button",{staticClass:"lan",on:{click:function(t){e.dialog.detail=!1}}},[e._v("确定")])])])])],1)},d=[],u={render:c,staticRenderFns:d},A=u,v=i("VU/8"),p=a,g=v(o,A,!1,p,"data-v-760c8744",null);t.default=g.exports},tx2N:function(e,t,i){t=e.exports=i("FZ+f")(!0),t.push([e.i,'.server_list[data-v-760c8744]{min-width:1100px}.server_list .table[data-v-760c8744]{margin:0 20px}.server_list .nav-list[data-v-760c8744]{border-bottom:1px solid #cbcbcb;margin:20px}.server_list .nav-list li[data-v-760c8744]{font-size:14px;line-height:30px;width:128px;float:left;margin:0 10px -1px 0;text-align:center;cursor:pointer;border:1px solid #cbcbcb;color:#333;background:#f3f5f9}.server_list .nav-list li.active[data-v-760c8744]{line-height:29px;border-top:2px solid #4285f4;border-bottom-color:#fff;font-weight:700;background:#fff}.server_list .nav-list li b[data-v-760c8744]{color:#4285f4}.server_list .deal[data-v-760c8744]{margin:0 20px 10px}.server_list .el-table .lan[data-v-760c8744]{cursor:pointer}.server_list .my-footer[data-v-760c8744]{display:inline-block}.server_list .createuser li[data-v-760c8744]{margin-bottom:20px;color:#333}.server_list .createuser li[data-v-760c8744]:last-of-type{margin:0}.server_list .createuser li span[data-v-760c8744]{width:90px;float:left}.server_list .createuser li div[data-v-760c8744]{overflow:hidden}.server_list .createuser li div input[data-v-760c8744]{width:300px}.server_list .createuser li i[data-v-760c8744]:before{display:inline-block;content:"*";vertical-align:middle;color:#e1504a;margin-left:5px}.server_list .createuser textarea[data-v-760c8744]{width:350px;height:90px;resize:none;padding:10px 15px}.server_list .createuser .err[data-v-760c8744]{border-color:red}.server_list .createuser .tips[data-v-760c8744]{font-size:12px;line-height:18px;text-align:left;overflow:hidden;max-height:100px;text-indent:1px;padding-top:6px}.server_list .createuser .tips.slide-enter-active[data-v-760c8744],.server_list .createuser .tips.slide-leave-active[data-v-760c8744]{-webkit-transition:max-height .9s;transition:max-height .9s}.server_list .createuser .tips.slide-enter[data-v-760c8744],.server_list .createuser .tips.slide-leave-to[data-v-760c8744]{max-height:0}.server_list .createuser .tips.err[data-v-760c8744]{color:#db4437}.el-icon-loading[data-v-760c8744]{color:#000;margin-right:5px}',"",{version:3,sources:["D:/admin/config/src/components/manage_center/region.vue"],names:[],mappings:"AACA,8BACE,gBAAkB,CACnB,AACD,qCACE,aAAe,CAChB,AACD,wCACE,gCAAiC,AACjC,WAAa,CACd,AACD,2CACE,eAAgB,AAChB,iBAAkB,AAClB,YAAa,AACb,WAAY,AACZ,qBAAsB,AACtB,kBAAmB,AACnB,eAAgB,AAChB,yBAA0B,AAC1B,WAAY,AACZ,kBAAoB,CACrB,AACD,kDACE,iBAAkB,AAClB,6BAA8B,AAC9B,yBAA0B,AAC1B,gBAAkB,AAClB,eAAiB,CAClB,AACD,6CACE,aAAe,CAChB,AACD,oCACE,kBAAoB,CACrB,AACD,6CACE,cAAgB,CACjB,AACD,yCACE,oBAAsB,CACvB,AACD,6CACE,mBAAoB,AACpB,UAAY,CACb,AACD,0DACE,QAAU,CACX,AACD,kDACE,WAAY,AACZ,UAAY,CACb,AACD,iDACE,eAAiB,CAClB,AACD,uDACE,WAAa,CACd,AACD,sDACE,qBAAsB,AACtB,YAAa,AACb,sBAAuB,AACvB,cAAe,AACf,eAAiB,CAClB,AACD,mDACE,YAAa,AACb,YAAa,AACb,YAAa,AACb,iBAAmB,CACpB,AACD,+CACE,gBAAmB,CACpB,AACD,gDACE,eAAgB,AAChB,iBAAkB,AAClB,gBAAiB,AACjB,gBAAiB,AACjB,iBAAkB,AAClB,gBAAiB,AACjB,eAAiB,CAClB,AACD,sIAEE,kCAAoC,AACpC,yBAA4B,CAC7B,AACD,2HAEE,YAAc,CACf,AACD,oDACE,aAAe,CAChB,AACD,kCACE,WAAY,AACZ,gBAAkB,CACnB",file:"region.vue",sourcesContent:["\n.server_list[data-v-760c8744] {\n  min-width: 1100px;\n}\n.server_list .table[data-v-760c8744] {\n  margin: 0 20px;\n}\n.server_list .nav-list[data-v-760c8744] {\n  border-bottom: 1px solid #cbcbcb;\n  margin: 20px;\n}\n.server_list .nav-list li[data-v-760c8744] {\n  font-size: 14px;\n  line-height: 30px;\n  width: 128px;\n  float: left;\n  margin: 0 10px -1px 0;\n  text-align: center;\n  cursor: pointer;\n  border: 1px solid #cbcbcb;\n  color: #333;\n  background: #f3f5f9;\n}\n.server_list .nav-list li.active[data-v-760c8744] {\n  line-height: 29px;\n  border-top: 2px solid #4285f4;\n  border-bottom-color: #fff;\n  font-weight: bold;\n  background: #fff;\n}\n.server_list .nav-list li b[data-v-760c8744] {\n  color: #4285f4;\n}\n.server_list .deal[data-v-760c8744] {\n  margin: 0 20px 10px;\n}\n.server_list .el-table .lan[data-v-760c8744] {\n  cursor: pointer;\n}\n.server_list .my-footer[data-v-760c8744] {\n  display: inline-block;\n}\n.server_list .createuser li[data-v-760c8744] {\n  margin-bottom: 20px;\n  color: #333;\n}\n.server_list .createuser li[data-v-760c8744]:last-of-type {\n  margin: 0;\n}\n.server_list .createuser li span[data-v-760c8744] {\n  width: 90px;\n  float: left;\n}\n.server_list .createuser li div[data-v-760c8744] {\n  overflow: hidden;\n}\n.server_list .createuser li div input[data-v-760c8744] {\n  width: 300px;\n}\n.server_list .createuser li i[data-v-760c8744]:before {\n  display: inline-block;\n  content: '*';\n  vertical-align: middle;\n  color: #e1504a;\n  margin-left: 5px;\n}\n.server_list .createuser textarea[data-v-760c8744] {\n  width: 350px;\n  height: 90px;\n  resize: none;\n  padding: 10px 15px;\n}\n.server_list .createuser .err[data-v-760c8744] {\n  border-color: #f00;\n}\n.server_list .createuser .tips[data-v-760c8744] {\n  font-size: 12px;\n  line-height: 18px;\n  text-align: left;\n  overflow: hidden;\n  max-height: 100px;\n  text-indent: 1px;\n  padding-top: 6px;\n}\n.server_list .createuser .tips.slide-enter-active[data-v-760c8744],\n.server_list .createuser .tips.slide-leave-active[data-v-760c8744] {\n  -webkit-transition: max-height 0.9s;\n  transition: max-height 0.9s;\n}\n.server_list .createuser .tips.slide-enter[data-v-760c8744],\n.server_list .createuser .tips.slide-leave-to[data-v-760c8744] {\n  max-height: 0;\n}\n.server_list .createuser .tips.err[data-v-760c8744] {\n  color: #db4437;\n}\n.el-icon-loading[data-v-760c8744] {\n  color: #000;\n  margin-right: 5px;\n}"],sourceRoot:""}])}});
//# sourceMappingURL=15.f10c6473d55ed8ba2bee.js.map